{"ast":null,"code":"import axios from 'axios';\nimport { ADD_POST, GET_POSTS, GET_ERRORS, DELETE_POST, POST_LOADING, ADD_LIKE } from './types'; // Add Post\n\nexport var addPost = function addPost(postData) {\n  return function (dispatch) {\n    //Create a post\n    axios.post('/api/posts', postData).then(function (res) {\n      return dispatch({\n        type: ADD_POST,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: ((err || {}).response || {}).data || {\n          errors: 'unexpected error'\n        }\n      });\n    });\n  };\n}; //end addPost\n// Delete Post\n\nexport var deletePost = function deletePost(id) {\n  return function (dispatch) {\n    //delete a post\n    axios.delete(\"/api/posts/\".concat(id)).then(function (res) {\n      return dispatch({\n        type: DELETE_POST,\n        payload: id\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: ((err || {}).response || {}).data || {\n          errors: 'unexpected error'\n        }\n      });\n    });\n  };\n}; //end delete post\n\nexport var getPosts = function getPosts(postData) {\n  return function (dispatch) {\n    dispatch(setPostLoading); //Create a post\n\n    axios.get('/api/posts').then(function (res) {\n      return dispatch({\n        type: GET_POSTS,\n        payload: res.data\n      });\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_POSTS,\n        payload: {}\n      });\n    });\n  };\n}; //end getPosts\n//Set the loading state\n\nexport var setPostLoading = function setPostLoading() {\n  return {\n    type: POST_LOADING //end return\n\n  };\n}; //end setPostLoading\n//***************LIKES***************\n// Add Like\n\nexport var addLike = function addLike(id) {\n  return function (dispatch) {\n    //Create a post\n    axios.post(\"/api/posts/like/\".concat(id)).then(function (res) {\n      return dispatch(getPosts());\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: ((err || {}).response || {}).data || {\n          errors: 'unexpected error'\n        }\n      });\n    });\n  };\n}; //end addLike\n// Remove Like\n\nexport var removeLike = function removeLike(id) {\n  return function (dispatch) {\n    //Create a post\n    axios.delete(\"/api/posts/unlike/\".concat(id)).then(function (res) {\n      return dispatch(getPosts());\n    }).catch(function (err) {\n      return dispatch({\n        type: GET_ERRORS,\n        payload: ((err || {}).response || {}).data || {\n          errors: 'unexpected error'\n        }\n      });\n    });\n  };\n}; //end removeLike","map":{"version":3,"sources":["/home/eugene/MERN/mern-client/src/actions/postActions.js"],"names":["axios","ADD_POST","GET_POSTS","GET_ERRORS","DELETE_POST","POST_LOADING","ADD_LIKE","addPost","postData","dispatch","post","then","res","type","payload","data","catch","err","response","errors","deletePost","id","delete","getPosts","setPostLoading","get","addLike","removeLike"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,EAA6BC,UAA7B,EAAyCC,WAAzC,EAAsDC,YAAtD,EACSC,QADT,QACwB,SADxB,C,CAGA;;AACA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAAAC,QAAQ;AAAA,SAAI,UAAAC,QAAQ,EAAI;AAC7C;AACAT,IAAAA,KAAK,CACFU,IADH,CACQ,YADR,EACsBF,QADtB,EAEGG,IAFH,CAEQ,UAAAC,GAAG;AAAA,aACPH,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEZ,QADC;AAEPa,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CADD;AAAA,KAFX,EAOIC,KAPJ,CAOU,UAAAC,GAAG;AAAA,aACTR,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEV,UADC;AAEPW,QAAAA,OAAO,EAAC,CAAC,CAACG,GAAG,IAAE,EAAN,EAAUC,QAAV,IAAoB,EAArB,EAAyBH,IAAzB,IACN;AAACI,UAAAA,MAAM,EAAC;AAAR;AAHK,OAAD,CADC;AAAA,KAPb;AAcD,GAhB8B;AAAA,CAAxB,C,CAgBL;AAEF;;AACA,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,CAACC,EAAD;AAAA,SAAQ,UAAAZ,QAAQ,EAAI;AAC5C;AACAT,IAAAA,KAAK,CACFsB,MADH,sBACwBD,EADxB,GAEGV,IAFH,CAEQ,UAAAC,GAAG;AAAA,aACPH,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAET,WADC;AAEPU,QAAAA,OAAO,EAAEO;AAFF,OAAD,CADD;AAAA,KAFX,EAOIL,KAPJ,CAOU,UAAAC,GAAG;AAAA,aACTR,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEV,UADC;AAEPW,QAAAA,OAAO,EAAC,CAAC,CAACG,GAAG,IAAE,EAAN,EAAUC,QAAV,IAAoB,EAArB,EAAyBH,IAAzB,IACN;AAACI,UAAAA,MAAM,EAAC;AAAR;AAHK,OAAD,CADC;AAAA,KAPb;AAcD,GAhByB;AAAA,CAAnB,C,CAgBL;;AAEF,OAAO,IAAMI,QAAQ,GAAG,SAAXA,QAAW,CAAAf,QAAQ;AAAA,SAAI,UAAAC,QAAQ,EAAI;AAC9CA,IAAAA,QAAQ,CAACe,cAAD,CAAR,CAD8C,CAE9C;;AACAxB,IAAAA,KAAK,CACFyB,GADH,CACO,YADP,EAEGd,IAFH,CAEQ,UAAAC,GAAG;AAAA,aACPH,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEX,SADC;AAEPY,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFN,OAAD,CADD;AAAA,KAFX,EAOIC,KAPJ,CAOU,UAAAC,GAAG;AAAA,aACTR,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEX,SADC;AAEPY,QAAAA,OAAO,EAAC;AAFD,OAAD,CADC;AAAA,KAPb;AAaD,GAhB+B;AAAA,CAAzB,C,CAgBL;AAEF;;AACA,OAAO,IAAMU,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAChC,SAAO;AACLX,IAAAA,IAAI,EAAER,YADD,CAEN;;AAFM,GAAP;AAGH,CAJM,C,CAIN;AAID;AAEA;;AACA,OAAO,IAAMqB,OAAO,GAAG,SAAVA,OAAU,CAAAL,EAAE;AAAA,SAAI,UAAAZ,QAAQ,EAAI;AACvC;AACAT,IAAAA,KAAK,CACFU,IADH,2BAC2BW,EAD3B,GAEGV,IAFH,CAEQ,UAAAC,GAAG;AAAA,aACPH,QAAQ,CAACc,QAAQ,EAAT,CADD;AAAA,KAFX,EAIIP,KAJJ,CAIU,UAAAC,GAAG;AAAA,aACTR,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEV,UADC;AAEPW,QAAAA,OAAO,EAAC,CAAC,CAACG,GAAG,IAAE,EAAN,EAAUC,QAAV,IAAoB,EAArB,EAAyBH,IAAzB,IACN;AAACI,UAAAA,MAAM,EAAC;AAAR;AAHK,OAAD,CADC;AAAA,KAJb;AAWD,GAbwB;AAAA,CAAlB,C,CAaL;AAEF;;AACA,OAAO,IAAMQ,UAAU,GAAG,SAAbA,UAAa,CAAAN,EAAE;AAAA,SAAI,UAAAZ,QAAQ,EAAI;AAC1C;AACAT,IAAAA,KAAK,CACFsB,MADH,6BAC+BD,EAD/B,GAEGV,IAFH,CAEQ,UAAAC,GAAG;AAAA,aACPH,QAAQ,CAACc,QAAQ,EAAT,CADD;AAAA,KAFX,EAIIP,KAJJ,CAIU,UAAAC,GAAG;AAAA,aACTR,QAAQ,CAAC;AACPI,QAAAA,IAAI,EAAEV,UADC;AAEPW,QAAAA,OAAO,EAAC,CAAC,CAACG,GAAG,IAAE,EAAN,EAAUC,QAAV,IAAoB,EAArB,EAAyBH,IAAzB,IACN;AAACI,UAAAA,MAAM,EAAC;AAAR;AAHK,OAAD,CADC;AAAA,KAJb;AAWD,GAb2B;AAAA,CAArB,C,CAaL","sourcesContent":["import axios from 'axios';\nimport {ADD_POST, GET_POSTS, GET_ERRORS, DELETE_POST, POST_LOADING\n        ,ADD_LIKE} from './types';\n\n// Add Post\nexport const addPost = postData => dispatch => {\n  //Create a post\n  axios\n    .post('/api/posts', postData)\n    .then(res =>\n      dispatch({\n        type: ADD_POST,\n        payload: res.data\n      })\n    ).catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload:((err||{}).response||{}).data\n        ||{errors:'unexpected error'}\n      })\n    );\n};//end addPost\n\n// Delete Post\nexport const deletePost = (id) => dispatch => {\n  //delete a post\n  axios\n    .delete(`/api/posts/${id}`)\n    .then(res =>\n      dispatch({\n        type: DELETE_POST,\n        payload: id\n      })\n    ).catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload:((err||{}).response||{}).data\n        ||{errors:'unexpected error'}\n      })\n    );\n};//end delete post\n\nexport const getPosts = postData => dispatch => {\n  dispatch(setPostLoading); \n  //Create a post\n  axios\n    .get('/api/posts')\n    .then(res =>\n      dispatch({\n        type: GET_POSTS,\n        payload: res.data\n      })\n    ).catch(err =>\n      dispatch({\n        type: GET_POSTS,\n        payload:{}\n      })\n    );\n};//end getPosts\n\n//Set the loading state\nexport const setPostLoading = () => {\n    return { \n      type: POST_LOADING\n    }//end return\n}//end setPostLoading\n\n\n\n//***************LIKES***************\n\n// Add Like\nexport const addLike = id => dispatch => {\n  //Create a post\n  axios\n    .post(`/api/posts/like/${id}`)\n    .then(res =>\n      dispatch(getPosts())\n    ).catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload:((err||{}).response||{}).data\n        ||{errors:'unexpected error'}\n      })\n    );\n};//end addLike\n\n// Remove Like\nexport const removeLike = id => dispatch => {\n  //Create a post\n  axios\n    .delete(`/api/posts/unlike/${id}`)\n    .then(res =>\n      dispatch(getPosts())\n    ).catch(err =>\n      dispatch({\n        type: GET_ERRORS,\n        payload:((err||{}).response||{}).data\n        ||{errors:'unexpected error'}\n      })\n    );\n};//end removeLike"]},"metadata":{},"sourceType":"module"}